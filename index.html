<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TITAN ULTRA | Cloud Studio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Outfit:wght@400;900&display=swap');
        body { font-family: 'Outfit', sans-serif; background: #050508; color: white; margin: 0; overflow: hidden; }
        .bebas { font-family: 'Bebas Neue', cursive; }
        .editor-canvas { background: #000; position: relative; aspect-ratio: 16/9; width: 100%; display: flex; align-items: center; justify-content: center; overflow: hidden; box-shadow: 0 10px 40px rgba(0,0,0,0.8); }
        .btn-active:active { transform: scale(0.95); transition: 0.1s; }
        ::-webkit-scrollbar { display: none; }
    </style>
</head>
<body>

    <div id="app" class="h-screen flex flex-col">
        <!-- HEADER -->
        <header class="p-6 flex justify-between items-center shrink-0">
            <h1 class="text-xl font-black italic tracking-tighter">TITAN <span class="text-indigo-500">ULTRA</span></h1>
            <button onclick="addFolder()" class="w-12 h-12 bg-white text-black rounded-2xl flex items-center justify-center btn-active">
                <i class="fa-solid fa-folder-plus text-xl"></i>
            </button>
        </header>

        <!-- VIEW: FOLDERS -->
        <main id="view-folders" class="flex-1 overflow-y-auto px-6 pb-20">
            <div id="folder-list" class="grid grid-cols-2 gap-4"></div>
        </main>

        <!-- VIEW: PROJECTS -->
        <main id="view-projects" class="hidden flex-1 overflow-y-auto px-6 pb-20">
            <div class="flex items-center gap-4 mb-6">
                <button onclick="showView('folders')" class="bg-zinc-900 p-4 rounded-xl"><i class="fa-solid fa-arrow-left"></i></button>
                <h2 id="folder-title" class="text-lg font-black uppercase tracking-widest">FOLDER</h2>
            </div>
            <button onclick="addProject()" class="w-full bg-indigo-600 p-5 rounded-3xl mb-6 font-black uppercase text-[10px] tracking-widest shadow-xl shadow-indigo-600/20">New Production</button>
            <div id="project-list" class="space-y-4"></div>
        </main>

        <!-- VIEW: EDITOR -->
        <main id="view-editor" class="fixed inset-0 bg-black z-[100] hidden flex flex-col">
            <nav class="h-16 px-6 flex justify-between items-center border-b border-white/5 bg-zinc-950">
                <button onclick="showView('projects')" class="text-[10px] font-black uppercase">Exit</button>
                <button onclick="alert('Render Engine Starting...')" class="bg-white text-black px-4 py-2 rounded-lg text-[10px] font-black uppercase">Render</button>
            </nav>
            <div id="editor-canvas" class="editor-canvas">
                <img id="layer-bg" src="https://images.unsplash.com/photo-1614850523296-d8c1af93d400?w=800" class="absolute inset-0 w-full h-full object-cover opacity-60">
                <h2 id="layer-text" class="bebas text-white text-6xl text-center px-4 z-10 drop-shadow-2xl">EDIT TEXT</h2>
            </div>
            <div class="p-8 space-y-8 bg-[#0a0a0c] flex-1">
                <input id="edit-text-input" type="text" oninput="updateText(this.value)" class="w-full bg-zinc-900 border border-white/5 p-5 rounded-2xl font-black uppercase text-lg outline-none focus:border-indigo-600">
                <div class="flex justify-around">
                    <div onclick="updateColor('#ffffff')" class="w-12 h-12 rounded-2xl bg-white"></div>
                    <div onclick="updateColor('#6366f1')" class="w-12 h-12 rounded-2xl bg-indigo-600"></div>
                    <div onclick="updateColor('#f59e0b')" class="w-12 h-12 rounded-2xl bg-yellow-500"></div>
                    <div onclick="updateColor('#ef4444')" class="w-12 h-12 rounded-2xl bg-rose-500"></div>
                </div>
            </div>
        </main>
    </div>

    <script>
        let db = JSON.parse(localStorage.getItem('titan_db')) || { folders: [{id: 1, name: 'MAIN'}], projects: [] };
        let currentFolderId = null, currentProjectId = null;

        function showView(v) {
            ['folders', 'projects', 'editor'].forEach(x => document.getElementById('view-'+x).classList.add('hidden'));
            document.getElementById('view-'+v).classList.remove('hidden');
        }

        function renderFolders() {
            const list = document.getElementById('folder-list');
            list.innerHTML = '';
            db.folders.forEach(f => {
                const count = db.projects.filter(p => p.folderId === f.id).length;
                list.innerHTML += `<div onclick="openFolder(${f.id}, '${f.name}')" class="bg-zinc-900 p-6 rounded-[2.5rem] flex flex-col items-center gap-3 btn-active border border-white/5">
                    <i class="fa-solid fa-folder text-3xl text-indigo-500"></i>
                    <h3 class="text-[10px] font-black uppercase tracking-widest text-center truncate w-full">${f.name}</h3>
                    <p class="text-[8px] font-bold text-zinc-600">${count} ITEMS</p>
                </div>`;
            });
        }

        function addFolder() {
            const name = prompt("Folder Name:").toUpperCase();
            if(name) { db.folders.push({id: Date.now(), name}); save(); renderFolders(); }
        }

        function openFolder(id, name) {
            currentFolderId = id; document.getElementById('folder-title').innerText = name;
            showView('projects'); renderProjects();
        }

        function renderProjects() {
            const list = document.getElementById('project-list'); list.innerHTML = '';
            db.projects.filter(p => p.folderId === currentFolderId).forEach(p => {
                list.innerHTML += `<div onclick="openEditor(${p.id})" class="bg-zinc-900/50 p-4 rounded-3xl flex items-center gap-4 border border-white/5 btn-active">
                    <img src="${p.bg}" class="w-16 aspect-video object-cover rounded-xl opacity-50 border border-white/5">
                    <span class="text-[10px] font-black uppercase truncate flex-1 tracking-widest">${p.text}</span>
                    <i class="fa-solid fa-chevron-right text-zinc-800 mr-2"></i>
                </div>`;
            });
        }

        function addProject() {
            const id = Date.now();
            db.projects.push({id, folderId: currentFolderId, text: 'NEW DESIGN', color: '#ffffff', bg: 'https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?w=800'});
            save(); openEditor(id);
        }

        function openEditor(id) {
            currentProjectId = id; const p = db.projects.find(x => x.id === id);
            document.getElementById('layer-text').innerText = p.text;
            document.getElementById('layer-text').style.color = p.color;
            document.getElementById('edit-text-input').value = p.text;
            showView('editor');
        }

        function updateText(v) {
            const t = v.toUpperCase(); document.getElementById('layer-text').innerText = t;
            db.projects.find(x => x.id === currentProjectId).text = t; save();
        }

        function updateColor(c) {
            document.getElementById('layer-text').style.color = c;
            db.projects.find(x => x.id === currentProjectId).color = c; save();
        }

        function save() { localStorage.setItem('titan_db', JSON.stringify(db)); }
        renderFolders();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TITAN ULTRA PRO | Full Studio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Outfit:wght@400;900&display=swap');
        body { font-family: 'Outfit', sans-serif; background: #050508; color: white; margin: 0; overflow: hidden; }
        .bebas { font-family: 'Bebas Neue', cursive; }
        .editor-container { position: relative; width: 100%; aspect-ratio: 16/9; background: #111; overflow: hidden; border: 1px solid #333; }
        .draggable { position: absolute; cursor: move; user-select: none; touch-action: none; }
        .btn-active:active { transform: scale(0.95); transition: 0.1s; }
        .tool-btn { background: #1a1a1e; padding: 12px; border-radius: 12px; border: 1px solid #333; display: flex; flex-direction: column; align-items: center; gap: 5px; font-size: 10px; font-weight: 900; }
    </style>
</head>
<body>

    <div id="app" class="h-screen flex flex-col">
        <!-- HEADER -->
        <header class="p-4 flex justify-between items-center border-b border-white/5">
            <h1 class="text-lg font-black italic">TITAN <span class="text-indigo-500">ULTRA PRO</span></h1>
            <div class="flex gap-2">
                <button onclick="addFolder()" class="w-10 h-10 bg-zinc-900 rounded-xl flex items-center justify-center btn-active"><i class="fa-solid fa-folder-plus"></i></button>
            </div>
        </header>

        <!-- VIEW: FOLDERS -->
        <main id="view-folders" class="flex-1 overflow-y-auto p-4">
            <h2 class="text-xs font-black uppercase text-zinc-500 mb-4 tracking-widest">My Folders</h2>
            <div id="folder-list" class="grid grid-cols-2 gap-3"></div>
        </main>

        <!-- VIEW: PROJECTS -->
        <main id="view-projects" class="hidden flex-1 overflow-y-auto p-4">
            <div class="flex items-center gap-4 mb-6">
                <button onclick="showView('folders')" class="bg-zinc-900 p-3 rounded-xl"><i class="fa-solid fa-arrow-left"></i></button>
                <h2 id="folder-title" class="font-black uppercase tracking-widest">FOLDER</h2>
            </div>
            <button onclick="addProject()" class="w-full bg-indigo-600 p-4 rounded-2xl mb-6 font-black uppercase text-xs">Create New Thumbnail</button>
            <div id="project-list" class="space-y-3"></div>
        </main>

        <!-- VIEW: EDITOR (THE REAL DEAL) -->
        <main id="view-editor" class="fixed inset-0 bg-black z-[200] hidden flex flex-col">
            <nav class="p-4 flex justify-between items-center bg-zinc-950">
                <button onclick="showView('projects')" class="text-xs font-black uppercase"><i class="fa-solid fa-chevron-left mr-1"></i> Back</button>
                <button onclick="downloadImage()" class="bg-emerald-500 text-white px-4 py-2 rounded-lg text-xs font-black"><i class="fa-solid fa-download mr-1"></i> SAVE PNG</button>
            </nav>

            <!-- CANVAS AREA -->
            <div id="capture-area" class="editor-container">
                <img id="canvas-bg" src="https://images.unsplash.com/photo-1614850523296-d8c1af93d400?w=1000" class="w-full h-full object-cover">
                <div id="main-text" class="draggable bebas text-white text-6xl text-center drop-shadow-2xl" style="top: 30%; left: 10%;">EDIT TEXT</div>
                <div id="overlay-images"></div>
            </div>

            <!-- TOOLS AREA -->
            <div class="flex-1 bg-zinc-900/50 p-4 overflow-y-auto space-y-6">
                <!-- Text Edit -->
                <div>
                    <label class="text-[10px] font-black text-zinc-500 uppercase tracking-widest mb-2 block">Text & Color</label>
                    <div class="flex gap-2">
                        <input id="text-input" type="text" oninput="updateEditorText(this.value)" class="flex-1 bg-black p-4 rounded-xl text-sm border border-white/10 outline-none focus:border-indigo-500">
                        <input type="color" onchange="updateEditorColor(this.value)" class="w-14 h-14 bg-transparent border-none">
                    </div>
                </div>

                <!-- Action Tools -->
                <div class="grid grid-cols-3 gap-3">
                    <button onclick="document.getElementById('bg-upload').click()" class="tool-btn">
                        <i class="fa-solid fa-image text-indigo-400 text-xl"></i>
                        Change BG
                    </button>
                    <button onclick="document.getElementById('img-upload').click()" class="tool-btn">
                        <i class="fa-solid fa-plus-circle text-emerald-400 text-xl"></i>
                        Add Sticker
                    </button>
                    <button onclick="resetTextPos()" class="tool-btn">
                        <i class="fa-solid fa-arrows-rotate text-amber-400 text-xl"></i>
                        Center Text
                    </button>
                </div>

                <!-- Hidden Inputs -->
                <input type="file" id="bg-upload" class="hidden" accept="image/*" onchange="uploadImage(event, 'bg')">
                <input type="file" id="img-upload" class="hidden" accept="image/*" onchange="uploadImage(event, 'layer')">

                <p class="text-center text-[9px] text-zinc-600 font-black uppercase tracking-widest pt-4">Drag elements on screen to reposition</p>
            </div>
        </main>
    </div>

    <script>
        let db = JSON.parse(localStorage.getItem('titan_pro_db')) || { folders: [{id: 1, name: 'MY WORK'}], projects: [] };
        let currentFolderId = null, currentProjectId = null;

        // Navigation
        function showView(v) {
            ['folders', 'projects', 'editor'].forEach(x => document.getElementById('view-'+x).classList.add('hidden'));
            document.getElementById('view-'+v).classList.remove('hidden');
        }

        // Folder Management
        function renderFolders() {
            const list = document.getElementById('folder-list');
            list.innerHTML = '';
            db.folders.forEach(f => {
                list.innerHTML += `<div onclick="openFolder(${f.id}, '${f.name}')" class="bg-zinc-900 p-5 rounded-3xl flex flex-col items-center gap-2 border border-white/5">
                    <i class="fa-solid fa-folder text-4xl text-indigo-500"></i>
                    <h3 class="text-[10px] font-black uppercase truncate w-full text-center">${f.name}</h3>
                </div>`;
            });
        }

        function addFolder() {
            const n = prompt("Folder Name:");
            if(n) { db.folders.push({id: Date.now(), name: n.toUpperCase()}); save(); renderFolders(); }
        }

        function openFolder(id, name) {
            currentFolderId = id; document.getElementById('folder-title').innerText = name;
            showView('projects'); renderProjects();
        }

        // Project Management
        function renderProjects() {
            const list = document.getElementById('project-list'); list.innerHTML = '';
            db.projects.filter(p => p.folderId === currentFolderId).forEach(p => {
                list.innerHTML += `<div onclick="openEditor(${p.id})" class="bg-zinc-900/50 p-4 rounded-2xl flex items-center gap-4 border border-white/5">
                    <img src="${p.bg}" class="w-16 h-9 object-cover rounded-lg">
                    <span class="text-xs font-black uppercase flex-1">${p.text}</span>
                </div>`;
            });
        }

        function addProject() {
            const id = Date.now();
            db.projects.push({id, folderId: currentFolderId, text: 'NEW THUMBNAIL', bg: 'https://images.unsplash.com/photo-1614850523296-d8c1af93d400?w=1000', color: '#ffffff'});
            save(); openEditor(id);
        }

        // Editor Logic
        function openEditor(id) {
            currentProjectId = id; 
            const p = db.projects.find(x => x.id === id);
            document.getElementById('main-text').innerText = p.text;
            document.getElementById('main-text').style.color = p.color;
            document.getElementById('text-input').value = p.text;
            document.getElementById('canvas-bg').src = p.bg;
            showView('editor');
            makeDraggable(document.getElementById('main-text'));
        }

        function updateEditorText(v) {
            document.getElementById('main-text').innerText = v.toUpperCase();
            db.projects.find(x => x.id === currentProjectId).text = v.toUpperCase();
            save();
        }

        function updateEditorColor(c) {
            document.getElementById('main-text').style.color = c;
            db.projects.find(x => x.id === currentProjectId).color = c;
            save();
        }

        function uploadImage(event, type) {
            const reader = new FileReader();
            reader.onload = function() {
                if(type === 'bg') {
                    document.getElementById('canvas-bg').src = reader.result;
                    db.projects.find(x => x.id === currentProjectId).bg = reader.result;
                    save();
                } else {
                    const img = document.createElement('img');
                    img.src = reader.result;
                    img.className = 'draggable w-32';
                    img.style.top = '20%'; img.style.left = '20%';
                    document.getElementById('overlay-images').appendChild(img);
                    makeDraggable(img);
                }
            }
            reader.readAsDataURL(event.target.files[0]);
        }

        function resetTextPos() {
            const t = document.getElementById('main-text');
            t.style.top = '40%'; t.style.left = '10%';
        }

        // Drag and Drop Logic (Mobile & Desktop)
        function makeDraggable(el) {
            let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
            el.onmousedown = dragMouseDown;
            el.ontouchstart = dragMouseDown;

            function dragMouseDown(e) {
                e = e || window.event;
                const clientX = e.touches ? e.touches[0].clientX : e.clientX;
                const clientY = e.touches ? e.touches[0].clientY : e.clientY;
                pos3 = clientX; pos4 = clientY;
                document.onmouseup = closeDragElement;
                document.ontouchend = closeDragElement;
                document.onmousemove = elementDrag;
                document.ontouchmove = elementDrag;
            }

            function elementDrag(e) {
                e = e || window.event;
                const clientX = e.touches ? e.touches[0].clientX : e.clientX;
                const clientY = e.touches ? e.touches[0].clientY : e.clientY;
                pos1 = pos3 - clientX; pos2 = pos4 - clientY;
                pos3 = clientX; pos4 = clientY;
                el.style.top = (el.offsetTop - pos2) + "px";
                el.style.left = (el.offsetLeft - pos1) + "px";
            }

            function closeDragElement() {
                document.onmouseup = null; document.onmousemove = null;
                document.ontouchend = null; document.ontouchmove = null;
            }
        }

        // Download PNG
        function downloadImage() {
            const area = document.getElementById('capture-area');
            html2canvas(area, { useCORS: true }).then(canvas => {
                const link = document.createElement('a');
                link.download = 'thumbnail-titan.png';
                link.href = canvas.toDataURL();
                link.click();
            });
        }

        function save() { localStorage.setItem('titan_pro_db', JSON.stringify(db)); }
        renderFolders();
    </script>
</body>
</html>

    <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TITAN ULTRA PRO | Full Studio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Outfit:wght@400;900&display=swap');
        body { font-family: 'Outfit', sans-serif; background: #050508; color: white; margin: 0; overflow: hidden; }
        .bebas { font-family: 'Bebas Neue', cursive; }
        .editor-container { position: relative; width: 100%; aspect-ratio: 16/9; background: #111; overflow: hidden; border: 1px solid #333; }
        .draggable { position: absolute; cursor: move; user-select: none; touch-action: none; }
        .btn-active:active { transform: scale(0.95); transition: 0.1s; }
        .tool-btn { background: #1a1a1e; padding: 12px; border-radius: 12px; border: 1px solid #333; display: flex; flex-direction: column; align-items: center; gap: 5px; font-size: 10px; font-weight: 900; }
    </style>
</head>
<body>

    <div id="app" class="h-screen flex flex-col">
        <!-- HEADER -->
        <header class="p-4 flex justify-between items-center border-b border-white/5">
            <h1 class="text-lg font-black italic">TITAN <span class="text-indigo-500">ULTRA PRO</span></h1>
            <div class="flex gap-2">
                <button onclick="addFolder()" class="w-10 h-10 bg-zinc-900 rounded-xl flex items-center justify-center btn-active"><i class="fa-solid fa-folder-plus"></i></button>
            </div>
        </header>

        <!-- VIEW: FOLDERS -->
        <main id="view-folders" class="flex-1 overflow-y-auto p-4">
            <h2 class="text-xs font-black uppercase text-zinc-500 mb-4 tracking-widest">My Folders</h2>
            <div id="folder-list" class="grid grid-cols-2 gap-3"></div>
        </main>

        <!-- VIEW: PROJECTS -->
        <main id="view-projects" class="hidden flex-1 overflow-y-auto p-4">
            <div class="flex items-center gap-4 mb-6">
                <button onclick="showView('folders')" class="bg-zinc-900 p-3 rounded-xl"><i class="fa-solid fa-arrow-left"></i></button>
                <h2 id="folder-title" class="font-black uppercase tracking-widest">FOLDER</h2>
            </div>
            <button onclick="addProject()" class="w-full bg-indigo-600 p-4 rounded-2xl mb-6 font-black uppercase text-xs">Create New Thumbnail</button>
            <div id="project-list" class="space-y-3"></div>
        </main>

        <!-- VIEW: EDITOR (THE REAL DEAL) -->
        <main id="view-editor" class="fixed inset-0 bg-black z-[200] hidden flex flex-col">
            <nav class="p-4 flex justify-between items-center bg-zinc-950">
                <button onclick="showView('projects')" class="text-xs font-black uppercase"><i class="fa-solid fa-chevron-left mr-1"></i> Back</button>
                <button onclick="downloadImage()" class="bg-emerald-500 text-white px-4 py-2 rounded-lg text-xs font-black"><i class="fa-solid fa-download mr-1"></i> SAVE PNG</button>
            </nav>

            <!-- CANVAS AREA -->
            <div id="capture-area" class="editor-container">
                <img id="canvas-bg" src="https://images.unsplash.com/photo-1614850523296-d8c1af93d400?w=1000" class="w-full h-full object-cover">
                <div id="main-text" class="draggable bebas text-white text-6xl text-center drop-shadow-2xl" style="top: 30%; left: 10%;">EDIT TEXT</div>
                <div id="overlay-images"></div>
            </div>

            <!-- TOOLS AREA -->
            <div class="flex-1 bg-zinc-900/50 p-4 overflow-y-auto space-y-6">
                <!-- Text Edit -->
                <div>
                    <label class="text-[10px] font-black text-zinc-500 uppercase tracking-widest mb-2 block">Text & Color</label>
                    <div class="flex gap-2">
                        <input id="text-input" type="text" oninput="updateEditorText(this.value)" class="flex-1 bg-black p-4 rounded-xl text-sm border border-white/10 outline-none focus:border-indigo-500">
                        <input type="color" onchange="updateEditorColor(this.value)" class="w-14 h-14 bg-transparent border-none">
                    </div>
                </div>

                <!-- Action Tools -->
                <div class="grid grid-cols-3 gap-3">
                    <button onclick="document.getElementById('bg-upload').click()" class="tool-btn">
                        <i class="fa-solid fa-image text-indigo-400 text-xl"></i>
                        Change BG
                    </button>
                    <button onclick="document.getElementById('img-upload').click()" class="tool-btn">
                        <i class="fa-solid fa-plus-circle text-emerald-400 text-xl"></i>
                        Add Sticker
                    </button>
                    <button onclick="resetTextPos()" class="tool-btn">
                        <i class="fa-solid fa-arrows-rotate text-amber-400 text-xl"></i>
                        Center Text
                    </button>
                </div>

                <!-- Hidden Inputs -->
                <input type="file" id="bg-upload" class="hidden" accept="image/*" onchange="uploadImage(event, 'bg')">
                <input type="file" id="img-upload" class="hidden" accept="image/*" onchange="uploadImage(event, 'layer')">

                <p class="text-center text-[9px] text-zinc-600 font-black uppercase tracking-widest pt-4">Drag elements on screen to reposition</p>
            </div>
        </main>
    </div>

    <script>
        let db = JSON.parse(localStorage.getItem('titan_pro_db')) || { folders: [{id: 1, name: 'MY WORK'}], projects: [] };
        let currentFolderId = null, currentProjectId = null;

        // Navigation
        function showView(v) {
            ['folders', 'projects', 'editor'].forEach(x => document.getElementById('view-'+x).classList.add('hidden'));
            document.getElementById('view-'+v).classList.remove('hidden');
        }

        // Folder Management
        function renderFolders() {
            const list = document.getElementById('folder-list');
            list.innerHTML = '';
            db.folders.forEach(f => {
                list.innerHTML += `<div onclick="openFolder(${f.id}, '${f.name}')" class="bg-zinc-900 p-5 rounded-3xl flex flex-col items-center gap-2 border border-white/5">
                    <i class="fa-solid fa-folder text-4xl text-indigo-500"></i>
                    <h3 class="text-[10px] font-black uppercase truncate w-full text-center">${f.name}</h3>
                </div>`;
            });
        }

        function addFolder() {
            const n = prompt("Folder Name:");
            if(n) { db.folders.push({id: Date.now(), name: n.toUpperCase()}); save(); renderFolders(); }
        }

        function openFolder(id, name) {
            currentFolderId = id; document.getElementById('folder-title').innerText = name;
            showView('projects'); renderProjects();
        }

        // Project Management
        function renderProjects() {
            const list = document.getElementById('project-list'); list.innerHTML = '';
            db.projects.filter(p => p.folderId === currentFolderId).forEach(p => {
                list.innerHTML += `<div onclick="openEditor(${p.id})" class="bg-zinc-900/50 p-4 rounded-2xl flex items-center gap-4 border border-white/5">
                    <img src="${p.bg}" class="w-16 h-9 object-cover rounded-lg">
                    <span class="text-xs font-black uppercase flex-1">${p.text}</span>
                </div>`;
            });
        }

        function addProject() {
            const id = Date.now();
            db.projects.push({id, folderId: currentFolderId, text: 'NEW THUMBNAIL', bg: 'https://images.unsplash.com/photo-1614850523296-d8c1af93d400?w=1000', color: '#ffffff'});
            save(); openEditor(id);
        }

        // Editor Logic
        function openEditor(id) {
            currentProjectId = id; 
            const p = db.projects.find(x => x.id === id);
            document.getElementById('main-text').innerText = p.text;
            document.getElementById('main-text').style.color = p.color;
            document.getElementById('text-input').value = p.text;
            document.getElementById('canvas-bg').src = p.bg;
            showView('editor');
            makeDraggable(document.getElementById('main-text'));
        }

        function updateEditorText(v) {
            document.getElementById('main-text').innerText = v.toUpperCase();
            db.projects.find(x => x.id === currentProjectId).text = v.toUpperCase();
            save();
        }

        function updateEditorColor(c) {
            document.getElementById('main-text').style.color = c;
            db.projects.find(x => x.id === currentProjectId).color = c;
            save();
        }

        function uploadImage(event, type) {
            const reader = new FileReader();
            reader.onload = function() {
                if(type === 'bg') {
                    document.getElementById('canvas-bg').src = reader.result;
                    db.projects.find(x => x.id === currentProjectId).bg = reader.result;
                    save();
                } else {
                    const img = document.createElement('img');
                    img.src = reader.result;
                    img.className = 'draggable w-32';
                    img.style.top = '20%'; img.style.left = '20%';
                    document.getElementById('overlay-images').appendChild(img);
                    makeDraggable(img);
                }
            }
            reader.readAsDataURL(event.target.files[0]);
        }

        function resetTextPos() {
            const t = document.getElementById('main-text');
            t.style.top = '40%'; t.style.left = '10%';
        }

        // Drag and Drop Logic (Mobile & Desktop)
        function makeDraggable(el) {
            let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
            el.onmousedown = dragMouseDown;
            el.ontouchstart = dragMouseDown;

            function dragMouseDown(e) {
                e = e || window.event;
                const clientX = e.touches ? e.touches[0].clientX : e.clientX;
                const clientY = e.touches ? e.touches[0].clientY : e.clientY;
                pos3 = clientX; pos4 = clientY;
                document.onmouseup = closeDragElement;
                document.ontouchend = closeDragElement;
                document.onmousemove = elementDrag;
                document.ontouchmove = elementDrag;
            }

            function elementDrag(e) {
                e = e || window.event;
                const clientX = e.touches ? e.touches[0].clientX : e.clientX;
                const clientY = e.touches ? e.touches[0].clientY : e.clientY;
                pos1 = pos3 - clientX; pos2 = pos4 - clientY;
                pos3 = clientX; pos4 = clientY;
                el.style.top = (el.offsetTop - pos2) + "px";
                el.style.left = (el.offsetLeft - pos1) + "px";
            }

            function closeDragElement() {
                document.onmouseup = null; document.onmousemove = null;
                document.ontouchend = null; document.ontouchmove = null;
            }
        }

        // Download PNG
        function downloadImage() {
            const area = document.getElementById('capture-area');
            html2canvas(area, { useCORS: true }).then(canvas => {
                const link = document.createElement('a');
                link.download = 'thumbnail-titan.png';
                link.href = canvas.toDataURL();
                link.click();
            });
        }

        function save() { localStorage.setItem('titan_pro_db', JSON.stringify(db)); }
        renderFolders();
    </script>
</body>
</html>


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TITAN ULTRA | Cloud Studio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Outfit:wght@400;900&display=swap');
        body { font-family: 'Outfit', sans-serif; background: #050508; color: white; margin: 0; overflow: hidden; }
        .bebas { font-family: 'Bebas Neue', cursive; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.08); }
        .editor-container { position: relative; width: 100%; aspect-ratio: 16/9; background: #000; overflow: hidden; }
        .draggable { position: absolute; cursor: move; touch-action: none; user-select: none; }
        input { outline: none; }
    </style>
</head>
<body>

    <!-- 1. AUTH SCREEN (Login/Sign-up) -->
    <div id="auth-screen" class="fixed inset-0 z-[500] bg-[#050508] flex items-center justify-center p-6">
        <div class="w-full max-w-sm space-y-8 text-center">
            <div class="inline-flex w-20 h-20 bg-indigo-600 rounded-[2.5rem] items-center justify-center shadow-2xl shadow-indigo-600/30">
                <i class="fa-solid fa-bolt text-3xl"></i>
            </div>
            <div>
                <h1 class="text-4xl font-black italic bebas tracking-widest">TITAN ULTRA</h1>
                <p class="text-zinc-500 text-[10px] font-black uppercase tracking-[0.3em] mt-2">Cloud Authentication</p>
            </div>
            
            <div class="space-y-4">
                <input id="user-email" type="email" placeholder="EMAIL ADDRESS" class="w-full bg-zinc-900/50 border border-white/5 p-5 rounded-2xl text-xs font-bold tracking-widest focus:border-indigo-600 transition-all">
                <input id="user-pass" type="password" placeholder="PASSWORD" class="w-full bg-zinc-900/50 border border-white/5 p-5 rounded-2xl text-xs font-bold tracking-widest focus:border-indigo-600 transition-all">
                <button onclick="handleAuth('login')" class="w-full bg-indigo-600 p-5 rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl shadow-indigo-600/20 active:scale-95 transition-all">Login to Studio</button>
                <button onclick="handleAuth('signup')" class="w-full bg-zinc-900 border border-white/10 p-5 rounded-2xl font-black uppercase text-xs tracking-widest active:scale-95 transition-all">Create Account</button>
            </div>
        </div>
    </div>

    <!-- 2. MAIN APP CONTENT -->
    <div id="app" class="h-screen flex flex-col hidden">
        <!-- HEADER -->
        <header class="p-5 flex justify-between items-center border-b border-white/5 bg-zinc-950/50">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-xs">
                    <i class="fa-solid fa-bolt"></i>
                </div>
                <h1 class="text-sm font-black italic tracking-tighter">TITAN <span class="text-indigo-500">PRO</span></h1>
            </div>
            <div class="flex items-center gap-4">
                <span id="user-display" class="text-[9px] font-black text-zinc-500 uppercase tracking-widest">User</span>
                <button onclick="logout()" class="text-zinc-500 hover:text-rose-500 transition-colors"><i class="fa-solid fa-right-from-bracket"></i></button>
            </div>
        </header>

        <!-- VIEW: FOLDERS -->
        <main id="view-folders" class="flex-1 overflow-y-auto p-6">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xs font-black uppercase tracking-widest text-zinc-500">Your Workspaces</h2>
                <button onclick="addFolder()" class="text-indigo-500 font-black text-xs">+ NEW FOLDER</button>
            </div>
            <div id="folder-list" class="grid grid-cols-2 gap-4"></div>
        </main>

        <!-- VIEW: PROJECTS -->
        <main id="view-projects" class="hidden flex-1 overflow-y-auto p-6">
            <div class="flex items-center gap-4 mb-8">
                <button onclick="showView('folders')" class="bg-zinc-900 w-10 h-10 rounded-xl flex items-center justify-center"><i class="fa-solid fa-chevron-left"></i></button>
                <h2 id="folder-title" class="font-black uppercase tracking-widest text-sm">FOLDER</h2>
            </div>
            <button onclick="addProject()" class="w-full bg-indigo-600 p-5 rounded-[2rem] mb-8 font-black uppercase text-[10px] tracking-widest shadow-2xl shadow-indigo-600/20">Start New Production</button>
            <div id="project-list" class="space-y-4"></div>
        </main>

        <!-- VIEW: EDITOR -->
        <main id="view-editor" class="fixed inset-0 bg-black z-[200] hidden flex flex-col">
            <nav class="p-4 flex justify-between items-center bg-zinc-950 border-b border-white/5">
                <button onclick="showView('projects')" class="text-[10px] font-black uppercase tracking-widest">Exit</button>
                <div class="flex gap-2">
                    <button onclick="downloadImage()" class="bg-white text-black px-5 py-2 rounded-xl text-[10px] font-black uppercase">Render PNG</button>
                </div>
            </nav>

            <div id="capture-area" class="editor-container shrink-0">
                <img id="canvas-bg" src="https://images.unsplash.com/photo-1614850523296-d8c1af93d400?w=1000" class="w-full h-full object-cover">
                <h2 id="main-text" class="draggable bebas text-white text-6xl text-center px-4 drop-shadow-2xl" style="top: 30%; left: 5%;">NEW DESIGN</h2>
                <div id="overlay-layers"></div>
            </div>

            <div class="flex-1 bg-zinc-900/50 p-6 overflow-y-auto space-y-6">
                <div class="space-y-2">
                    <label class="text-[9px] font-black text-zinc-500 tracking-widest uppercase">Editor Headline</label>
                    <input id="text-input" type="text" oninput="updateEditorText(this.value)" class="w-full bg-black border border-white/10 p-5 rounded-2xl font-black uppercase tracking-widest text-sm">
                </div>
                
                <div class="grid grid-cols-2 gap-3">
                    <button onclick="document.getElementById('bg-upload').click()" class="bg-zinc-800 p-5 rounded-2xl flex flex-col items-center gap-2 border border-white/5">
                        <i class="fa-solid fa-image text-indigo-400"></i>
                        <span class="text-[9px] font-black uppercase tracking-widest">Change BG</span>
                    </button>
                    <button onclick="document.getElementById('sticker-upload').click()" class="bg-zinc-800 p-5 rounded-2xl flex flex-col items-center gap-2 border border-white/5">
                        <i class="fa-solid fa-face-smile text-emerald-400"></i>
                        <span class="text-[9px] font-black uppercase tracking-widest">Add Sticker</span>
                    </button>
                </div>

                <input type="file" id="bg-upload" class="hidden" accept="image/*" onchange="handleImage(event, 'bg')">
                <input type="file" id="sticker-upload" class="hidden" accept="image/*" onchange="handleImage(event, 'sticker')">
            </div>
        </main>
    </div>

    <script>
        // STATE MANAGEMENT
        let currentUser = JSON.parse(localStorage.getItem('titan_user')) || null;
        let db = JSON.parse(localStorage.getItem('titan_cloud_db')) || { folders: [], projects: [] };
        let currentFolderId = null, currentProjectId = null;

        // AUTH LOGIC
        function handleAuth(type) {
            const email = document.getElementById('user-email').value;
            const pass = document.getElementById('user-pass').value;

            if(!email || !pass) return alert("Fill all fields");

            if(type === 'signup') {
                currentUser = { email, uid: Date.now() };
                alert("Account Created Successfully!");
            } else {
                // Mock Login
                currentUser = { email, uid: 12345 };
            }

            localStorage.setItem('titan_user', JSON.stringify(currentUser));
            initApp();
        }

        function logout() {
            localStorage.removeItem('titan_user');
            location.reload();
        }

        function initApp() {
            if(currentUser) {
                document.getElementById('auth-screen').classList.add('hidden');
                document.getElementById('app').classList.remove('hidden');
                document.getElementById('user-display').innerText = currentUser.email.split('@')[0];
                renderFolders();
            }
        }

        // VIEW NAVIGATION
        function showView(v) {
            ['folders', 'projects', 'editor'].forEach(x => document.getElementById('view-'+x).classList.add('hidden'));
            document.getElementById('view-'+v).classList.remove('hidden');
        }

        // FOLDERS & PROJECTS
        function renderFolders() {
            const list = document.getElementById('folder-list');
            list.innerHTML = '';
            db.folders.forEach(f => {
                list.innerHTML += `
                    <div onclick="openFolder(${f.id}, '${f.name}')" class="bg-zinc-900/50 p-6 rounded-[2rem] border border-white/5 flex flex-col items-center gap-3">
                        <i class="fa-solid fa-folder text-3xl text-indigo-500"></i>
                        <h3 class="text-[10px] font-black uppercase tracking-widest truncate w-full text-center">${f.name}</h3>
                    </div>
                `;
            });
        }

        function addFolder() {
            const n = prompt("FOLDER NAME:");
            if(n) {
                db.folders.push({ id: Date.now(), name: n.toUpperCase() });
                save(); renderFolders();
            }
        }

        function openFolder(id, name) {
            currentFolderId = id; document.getElementById('folder-title').innerText = name;
            showView('projects'); renderProjects();
        }

        function renderProjects() {
            const list = document.getElementById('project-list'); list.innerHTML = '';
            db.projects.filter(p => p.folderId === currentFolderId).forEach(p => {
                list.innerHTML += `
                    <div onclick="openEditor(${p.id})" class="bg-zinc-900 p-4 rounded-2xl flex items-center gap-4 border border-white/5">
                        <img src="${p.bg}" class="w-16 h-9 object-cover rounded-lg">
                        <span class="text-[10px] font-black uppercase tracking-widest truncate flex-1">${p.text}</span>
                    </div>
                `;
            });
        }

        function addProject() {
            const id = Date.now();
            db.projects.push({ id, folderId: currentFolderId, text: 'NEW THUMBNAIL', bg: 'https://images.unsplash.com/photo-1614850523296-d8c1af93d400?w=1000' });
            save(); openEditor(id);
        }

        // EDITOR FUNCTIONS
        function openEditor(id) {
            currentProjectId = id;
            const p = db.projects.find(x => x.id === id);
            document.getElementById('main-text').innerText = p.text;
            document.getElementById('text-input').value = p.text;
            document.getElementById('canvas-bg').src = p.bg;
            showView('editor');
            makeDraggable(document.getElementById('main-text'));
        }

        function updateEditorText(v) {
            document.getElementById('main-text').innerText = v.toUpperCase();
            db.projects.find(x => x.id === currentProjectId).text = v.toUpperCase();
            save();
        }

        function handleImage(e, type) {
            const reader = new FileReader();
            reader.onload = () => {
                if(type === 'bg') {
                    document.getElementById('canvas-bg').src = reader.result;
                    db.projects.find(x => x.id === currentProjectId).bg = reader.result;
                    save();
                } else {
                    const img = document.createElement('img');
                    img.src = reader.result;
                    img.className = 'draggable w-32';
                    img.style.top = '20%'; img.style.left = '20%';
                    document.getElementById('overlay-layers').appendChild(img);
                    makeDraggable(img);
                }
            };
            reader.readAsDataURL(e.target.files[0]);
        }

        function makeDraggable(el) {
            let p1 = 0, p2 = 0, p3 = 0, p4 = 0;
            el.onmousedown = start; el.ontouchstart = start;
            function start(e) {
                const cx = e.touches ? e.touches[0].clientX : e.clientX;
                const cy = e.touches ? e.touc

<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Titanium Thumbnail Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Outfit:wght@400;900&family=Playfair+Display:ital,wght@1,900&family=Bungee&display=swap');

        body { font-family: 'Outfit', sans-serif; background: #000; color: white; margin: 0; overflow: hidden; }
        
        /* Font Styles */
        .f-bold { font-family: 'Bebas Neue', cursive; }
        .f-stylish { font-family: 'Playfair Display', serif; font-style: italic; }
        .f-pop { font-family: 'Bungee', cursive; }

        .editor-canvas {
            position: relative;
            width: 100%;
            aspect-ratio: 16/9;
            background: #111;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 0 30px rgba(99, 102, 241, 0.2);
            border: 1px solid rgba(255,255,255,0.1);
        }

        #thumbnail-bg { width: 100%; height: 100%; object-fit: cover; }

        .draggable-layer {
            position: absolute;
            z-index: 50;
            cursor: move;
            touch-action: none;
            padding: 10px;
            text-align: center;
        }

        .text-display {
            font-size: 2rem;
            line-height: 1;
            text-transform: uppercase;
            text-shadow: 4px 4px 0px #000;
            pointer-events: none;
        }

        .glass-panel {
            background: rgba(15, 15, 15, 0.9);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(255,255,255,0.1);
            border-radius: 30px 30px 0 0;
        }

        .color-dot {
            width: 35px; height: 35px; border-radius: 8px; flex-shrink: 0;
            border: 2px solid rgba(255,255,255,0.1); cursor: pointer;
        }
        .active-dot { border-color: white; transform: scale(1.1); box-shadow: 0 0 10px currentColor; }

        #welcome-screen {
            position: fixed; inset: 0; background: #000; z-index: 1000;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
    </style>
</head>
<body class="h-screen flex flex-col max-w-md mx-auto">

    <!-- START SCREEN -->
    <div id="welcome-screen">
        <h1 class="text-3xl font-black bebas italic tracking-widest text-indigo-500 mb-10">THUMBNAIL <span class="text-white">ULTRA</span></h1>
        <button onclick="document.getElementById('img-input').click()" class="w-20 h-20 bg-indigo-600 rounded-full flex items-center justify-center shadow-2xl active:scale-90 transition-transform">
            <i class="fa-solid fa-plus text-3xl"></i>
        </button>
        <p class="mt-4 text-[10px] font-bold text-zinc-500 uppercase tracking-widest">Image Upload Karo</p>
    </div>

    <!-- HEADER -->
    <header class="p-6 flex justify-between items-center">
        <button onclick="location.reload()" class="text-zinc-500"><i class="fa-solid fa-chevron-left"></i></button>
        <h1 class="text-lg font-black bebas italic tracking-widest">TITANIUM <span class="text-indigo-500">PRO</span></h1>
        <button onclick="downloadThumbnail()" class="bg-indigo-600 px-4 py-2 rounded-xl text-[10px] font-black uppercase">Save</button>
    </header>

    <!-- PREVIEW -->
    <main class="flex-1 px-4 flex flex-col items-center justify-center bg-[#050505]">
        <div class="editor-canvas" id="canvas-container">
            <img id="thumbnail-bg" src="https://images.unsplash.com/photo-1614850523296-d8c1af93d400?q=80&w=1000&auto=format&fit=crop" alt="bg">
            
            <!-- Draggable Text Layer -->
            <div id="text-layer" class="draggable-layer" style="top: 40%; left: 10%;">
                <div id="display-text" class="text-display f-bold text-white">PRO THUMBNAIL</div>
            </div>

            <!-- Draggable Sticker Layer -->
            <div id="sticker-layer" class="draggable-layer text-5xl" style="top: 10%; right: 10%;">
                ðŸ”¥
            </div>
        </div>
        <p class="mt-2 text-[8px] text-zinc-600 uppercase font-black">Hold & Drag to move text/stickers</p>
    </main>

    <!-- CONTROLS -->
    <div class="h-[400px] glass-panel p-6 flex flex-col gap-5">
        
        <!-- Text Input -->
        <input type="text" id="manual-text" placeholder="Thumbnail Text Likho..." class="w-full bg-white/5 border border-white/10 p-4 rounded-2xl text-xs outline-none focus:border-indigo-500">

        <!-- Styles & Fonts -->
        <div class="flex gap-2 overflow-x-auto no-scrollbar">
            <button onclick="updateFont('f-bold')" class="shrink-0 px-4 py-2 bg-white/5 border border-white/10 rounded-xl text-[10px] font-bold">BOLD</button>
            <button onclick="updateFont('f-stylish')" class="shrink-0 px-4 py-2 bg-white/5 border border-white/10 rounded-xl text-[10px] font-bold">STYLISH</button>
            <button onclick="updateFont('f-pop')" class="shrink-0 px-4 py-2 bg-white/5 border border-white/10 rounded-xl text-[10px] font-bold">POP</button>
            <div class="w-[1px] bg-white/10 mx-1"></div>
            <button onclick="addEmoji('ðŸ”¥')" class="shrink-0 p-2 bg-white/5 rounded-xl">ðŸ”¥</button>
            <button onclick="addEmoji('ðŸ‘‘')" class="shrink-0 p-2 bg-white/5 rounded-xl">ðŸ‘‘</button>
            <button onclick="addEmoji('ðŸ’Ž')" class="shrink-0 p-2 bg-white/5 rounded-xl">ðŸ’Ž</button>
        </div>

        <!-- 15+ Colors (Beganihapinala) -->
        <div class="space-y-2">
            <p class="text-[9px] font-black text-zinc-500 uppercase tracking-widest">Select Color</p>
            <div id="color-palette" class="flex gap-3 overflow-x-auto no-scrollbar py-1">
                <!-- Colors via JS -->
            </div>
        </div>

        <!-- Size Controls -->
        <div class="flex gap-3 mt-auto">
            <div class="flex-1 flex gap-2">
                <button onclick="adjustSize(1.1)" class="flex-1 bg-white/5 border border-white/10 h-12 rounded-xl"><i class="fa-solid fa-plus"></i></button>
                <button onclick="adjustSize(0.9)" class="flex-1 bg-white/5 border border-white/10 h-12 rounded-xl"><i class="fa-solid fa-minus"></i></button>
            </div>
            <button onclick="document.getElementById('img-input').click()" class="flex-1 bg-indigo-600 rounded-xl font-black text-[10px] uppercase">Change BG</button>
        </div>
    </div>

    <!-- Hidden Input -->
    <input type="file" id="img-input" class="hidden" accept="image/*" onchange="loadImg(event)">

    <script>
        const bg = document.getElementById('thumbnail-bg');
        const displayText = document.getElementById('display-text');
        const manualInput = document.getElementById('manual-text');
        const welcome = document.getElementById('welcome-screen');
        const textLayer = document.getElementById('text-layer');
        const stickerLayer = document.getElementById('sticker-layer');

        let textSize = 2;

        // 15 Colors (Beganihapinala +)
        const colors = [
            '#FFFFFF', '#8B00FF', '#4B0082', '#0000FF', '#00FF00', 
            '#FFFF00', '#FF7F00', '#FF0000', '#FF00FF', '#00FFFF',
            '#FFD700', '#4ADE80', '#F43F5E', '#A855F7', '#FB923C'
        ];

        function initColors() {
            const container = document.getElementById('color-palette');
            colors.forEach(c => {
                const dot = document.createElement('div');
                dot.className = 'color-dot';
                dot.style.backgroundColor = c;
                dot.style.color = c;
                dot.onclick = () => {
                    document.querySelectorAll('.color-dot').forEach(d => d.classList.remove('active-dot'));
                    dot.classList.add('active-dot');
                    displayText.style.color = c;
                };
                container.appendChild(dot);
            });
        }

        function loadImg(e) {
            const file = e.target.files[0];
            if(!file) return;
            bg.src = URL.createObjectURL(file);
            welcome.style.display = 'none';
        }

        manualInput.oninput = () => {
            displayText.innerText = manualInput.value || "PRO THUMBNAIL";
        };

        function updateFont(f) {
            displayText.className = `text-display ${f}`;
        }

        function addEmoji(e) {
            stickerLayer.innerText = e;
        }

        function adjustSize(s) {
            textSize *= s;
            displayText.style.fontSize = textSize + "rem";
        }

        // Draggable Logic for both Text and Sticker
        function makeDraggable(el) {
            let isMoving = false;
            let startX, startY;

            el.addEventListener('touchstart', (e) => {
                isMoving = true;
                startX = e.touches[0].clientX - el.offsetLeft;
                startY = e.touches[0].clientY - el.offsetTop;
            });

            document.addEventListener('touchmove', (e) => {
                if (!isMoving) return;
                el.style.left = (e.touches[0].clientX - startX) + "px";
                el.style.top = (e.touches[0].clientY - startY) + "px";
            });

            document.addEventListener('touchend', () => isMoving = false);
        }

        makeDraggable(textLayer);
        makeDraggable(stickerLayer);

        function downloadThumbnail() {
            alert("Thumbnail save ho raha hai... (Simulated)");
        }

        initColors();
    </script>
</body>
</html>

